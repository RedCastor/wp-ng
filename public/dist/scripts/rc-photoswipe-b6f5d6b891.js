"format amd";!function(){"use strict";function t(t,e){function n(e,n){function o(o,s,l){function i(l){t.isDefined(l)&&"$NONE"!==l&&n(l).then(function(n){var l=t.element(n);s.append(e(l)(o))}),o.$broadcast("rcPhotoswipe.templateRendered")}var p=function(){var e=document.querySelectorAll(".pswp")[0];t.isUndefined(o.options.getThumbBoundsFn)&&t.isDefined(o.slideSelector)&&(o.options=t.merge({},{getThumbBoundsFn:function(t){var e=document.querySelectorAll(o.slideSelector)[t],n=window.pageYOffset||document.documentElement.scrollTop,s=e.getBoundingClientRect();return{x:s.left,y:s.top+n,w:s.width}}},o.options)),o.gallery=new PhotoSwipe(e,PhotoSwipeUI_Default||!1,o.slides,o.options),o.gallery.init(),o.item=o.gallery.currItem,console.log(o.gallery),o.gallery.listen("destroy",function(){o.safeApply(function(){(o.onClose||t.noop)()})}),o.gallery.listen("afterChange",function(){o.safeApply(function(){o.item=o.gallery.currItem})})};i(o.templateUrl||"rc-photoswipe.tpl.html"),o.$watch("templateUrl",function(){i(o.templateUrl)}),o.start=function(){o.open=!0,p()},o.$watch("open",function(t,e){console.log(t),console.log(e),t!==e?t&&p():!t&&o.gallery&&(o.gallery.close(),o.gallery=null)}),o.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},o.$on("destroy",function(){o.gallery=null})}return{restrict:"AE",replace:!0,scope:{open:"=",options:"=",slides:"=",slideSelector:"@",templateUrl:"@",onClose:"&"},link:o}}return n.$inject=["$compile","$templateRequest"],t.module("rcPhotoswipe",[]).directive("rcPhotoswipe",n)}"function"==typeof define&&define.amd?define(["angular","photoswipe"],t):"undefined"!=typeof module&&module&&module.exports?(t(angular,require("photoswipe")),module.exports="rcPhotoswipe"):t(angular,("undefined"!=typeof global?global:window).Photoswipe)}(),angular.module("rcPhotoswipe").run(["$templateCache",function(t){t.put("rc-photoswipe.tpl.html",'<div>\n  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="pswp__bg"></div>\n    <div class="pswp__scroll-wrap">\n\n        <div class="pswp__container">\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n        </div>\n\n        <div class="pswp__ui pswp__ui--hidden">\n            <div class="pswp__top-bar">\n\n                <div class="pswp__counter"></div>\n\n                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n\n                <button class="pswp__button pswp__button--share" title="Share"></button>\n\n                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n\n                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n\n                <div class="pswp__preloader">\n                    <div class="pswp__preloader__icn">\n                      <div class="pswp__preloader__cut">\n                        <div class="pswp__preloader__donut"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n                <div class="pswp__share-tooltip"></div>\n            </div>\n\n            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n            </button>\n\n            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n            </button>\n\n            <div class="pswp__caption">\n                <div class="pswp__caption__center"></div>\n            </div>\n        </div>\n    </div>\n  </div>\n</div>\n')}]);