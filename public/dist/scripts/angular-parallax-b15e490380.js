angular.module("duParallax",["duScroll","duParallax.directive","duParallax.helper"]).value("duParallaxTouchEvents",!0),angular.module("duParallax.helper",[]).factory("parallaxHelper",function(){function a(a,r,o,t){return function(n){var e=a*((t||0)+n.elemY);return angular.isNumber(r)&&e>r?r:angular.isNumber(o)&&o>e?o:e}}return{createAnimator:a,background:a(-.3,150,-30,50)}}),angular.module("duParallax.directive",["duScroll"]).directive("duParallax",["$rootScope","$window","$document","duParallaxTouchEvents","parallaxHelper",function(a,r,o,t,n){for(var e,i=angular.element("<div></div>")[0],l="transform WebkitTransform MozTransform OTransform".split(" "),u=0;u<l.length;u++)if(void 0!==i.style[l[u]]){e=l[u];break}if(!(!e||!t&&"ontouchstart"in window)){var c=function(a){return a.x||a.y?"translate3d("+Math.round(a.x)+"px, "+Math.round(a.y)+"px, 0)":""},f=function(a){return a.rotation?" rotate("+(angular.isNumber(a.rotation)?Math.round(a.rotation)+"deg":a.rotation)+")":""},m=function(a,r){r.style[e]=c(a)+f(a),r.style.opacity=a.opacity,a.custom&&angular.extend(r.style,a.custom)};return{scope:{y:"=?",x:"=?",rotation:"=",opacity:"=",custom:"=",animatorY:"&",animatorX:"&"},link:function(a,t){var e,i=t[0],l=!1,u=function(){var t=o.scrollTop(),c=i.getBoundingClientRect();l||(l=!0,angular.element(r).on("load",function(){var a,r=0,o=c.top;do{a=o,u(),o=i.getBoundingClientRect().top,r++}while(10>r&&a!==o)}));var f={scrollY:t,elemX:c.left,elemY:c.top},s={x:0,y:0,rotation:0,opacity:1,custom:void 0};if(angular.isObject(a.animatorY())){var d=a.animatorY();d.factor=d.factor?d.factor:0,d.max=d.max?d.max:0,d.min=d.min?d.min:0,d.offset=d.offset?d.offset:0,a.y=n.createAnimator(d.factor,d.max,d.min,d.offset)}if(angular.isObject(a.animatorX())){var x=a.animatorX();x.factor=x.factor?x.factor:0,x.max=x.max?x.max:0,x.min=x.min?x.min:0,x.offset=x.offset?x.offset:0,a.x=n.createAnimator(x.factor,x.max,x.min,x.offset)}for(var v in s)("animatorX"!==v||"animatorY"!==v)&&(angular.isFunction(a[v])?s[v]=a[v](f):a[v]&&(s[v]=a[v]));var g=angular.isUndefined(e);if(!g)for(v in s)if(s[v]!==e[v]){g=!0;break}g&&(m(s,i),e=s)};o.on("scroll touchmove",u).triggerHandler("scroll"),a.$on("$destroy",function(){o.off("scroll touchmove",u)})}}}}]);